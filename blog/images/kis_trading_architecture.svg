<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="900" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#666666" />
        </marker>
    </defs>

    <!-- ë°°ê²½ -->
    <rect width="1400" height="900" fill="#f8f9fa"/>

    <!-- ì œëª© -->
    <text x="700" y="45" font-family="Arial, sans-serif" font-size="32" font-weight="bold" fill="#1a1a2e" text-anchor="middle">
        KIS ìë™ ë§¤ë§¤ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
    </text>

    <!-- ì‚¬ìš©ì -->
    <ellipse cx="700" cy="100" rx="70" ry="35" fill="#E0E0E0" stroke="#666666" stroke-width="2"/>
    <text x="700" y="108" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333333" text-anchor="middle">ì‚¬ìš©ì</text>

    <!-- í™”ì‚´í‘œ: ì‚¬ìš©ì -> ëŒ€ì‹œë³´ë“œ -->
    <line x1="700" y1="135" x2="700" y2="165" stroke="#666666" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- ì›¹ ëŒ€ì‹œë³´ë“œ -->
    <rect x="500" y="170" width="400" height="80" fill="#2196F3" stroke="#1565C0" stroke-width="2" rx="8"/>
    <text x="700" y="200" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">ì›¹ ëŒ€ì‹œë³´ë“œ (FastAPI + Jinja2)</text>
    <text x="700" y="225" font-family="Arial, sans-serif" font-size="14" fill="#E3F2FD" text-anchor="middle">/kis-domestic-trading/ â€¢ /kis-overseas-trading/</text>

    <!-- í™”ì‚´í‘œ: ëŒ€ì‹œë³´ë“œ -> API -->
    <line x1="700" y1="250" x2="700" y2="280" stroke="#666666" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- FastAPI ë¼ìš°í„° -->
    <rect x="450" y="285" width="500" height="120" fill="#4CAF50" stroke="#2E7D32" stroke-width="2" rx="8"/>
    <text x="700" y="315" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">FastAPI ë¼ìš°í„°</text>
    <text x="540" y="345" font-family="Arial, sans-serif" font-size="12" fill="#E8F5E9" text-anchor="middle">ë³´ìœ ì£¼ì‹ ì¡°íšŒ</text>
    <text x="640" y="345" font-family="Arial, sans-serif" font-size="12" fill="#E8F5E9" text-anchor="middle">AI ë¶„ì„</text>
    <text x="740" y="345" font-family="Arial, sans-serif" font-size="12" fill="#E8F5E9" text-anchor="middle">ë§¤ìˆ˜/ë§¤ë„</text>
    <text x="840" y="345" font-family="Arial, sans-serif" font-size="12" fill="#E8F5E9" text-anchor="middle">ì¢…ëª©ì„¤ì •</text>
    <text x="700" y="385" font-family="Arial, sans-serif" font-size="11" fill="#C8E6C9" text-anchor="middle">kis_domestic_trading.py â€¢ kis_overseas_trading.py â€¢ symbol_settings.py</text>

    <!-- í™”ì‚´í‘œ: API -> Celery -->
    <line x1="700" y1="405" x2="700" y2="435" stroke="#666666" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- Celery íƒœìŠ¤í¬ ì˜ì—­ -->
    <rect x="200" y="440" width="1000" height="160" fill="#FF9800" stroke="#EF6C00" stroke-width="2" rx="8"/>
    <text x="700" y="470" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#ffffff" text-anchor="middle">Celery ë¹„ë™ê¸° íƒœìŠ¤í¬</text>

    <!-- Celery íƒœìŠ¤í¬ ë°•ìŠ¤ë“¤ -->
    <rect x="230" y="490" width="180" height="90" fill="#FFB74D" stroke="#EF6C00" stroke-width="1" rx="5"/>
    <text x="320" y="515" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#333333" text-anchor="middle">ì „ì²´ ì¢…ëª© ë¶„ì„</text>
    <text x="320" y="535" font-family="Arial, sans-serif" font-size="11" fill="#666666" text-anchor="middle">analyze_stocks</text>
    <text x="320" y="555" font-family="Arial, sans-serif" font-size="10" fill="#888888" text-anchor="middle">ì§„í–‰ìƒí™© ì—…ë°ì´íŠ¸</text>

    <rect x="430" y="490" width="180" height="90" fill="#FFB74D" stroke="#EF6C00" stroke-width="1" rx="5"/>
    <text x="520" y="515" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#333333" text-anchor="middle">ì „ì²´ ì¢…ëª© ë§¤ìˆ˜</text>
    <text x="520" y="535" font-family="Arial, sans-serif" font-size="11" fill="#666666" text-anchor="middle">execute_buy_orders</text>
    <text x="520" y="555" font-family="Arial, sans-serif" font-size="10" fill="#888888" text-anchor="middle">ë¶„í•  ë§¤ìˆ˜ ì£¼ë¬¸</text>

    <rect x="630" y="490" width="180" height="90" fill="#FFB74D" stroke="#EF6C00" stroke-width="1" rx="5"/>
    <text x="720" y="515" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#333333" text-anchor="middle">ì „ì²´ ì¢…ëª© ë§¤ë„</text>
    <text x="720" y="535" font-family="Arial, sans-serif" font-size="11" fill="#666666" text-anchor="middle">execute_sell_orders</text>
    <text x="720" y="555" font-family="Arial, sans-serif" font-size="10" fill="#888888" text-anchor="middle">ìˆ˜ìµ ëª©í‘œ ê¸°ë°˜</text>

    <rect x="830" y="490" width="180" height="90" fill="#FFB74D" stroke="#EF6C00" stroke-width="1" rx="5"/>
    <text x="920" y="515" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#333333" text-anchor="middle">ì¢…ëª©ë³„ ìë™ì‹¤í–‰</text>
    <text x="920" y="535" font-family="Arial, sans-serif" font-size="11" fill="#666666" text-anchor="middle">per_stock_automation</text>
    <text x="920" y="555" font-family="Arial, sans-serif" font-size="10" fill="#888888" text-anchor="middle">ë¶„ì„â†’ë§¤ìˆ˜â†’ë§¤ë„</text>

    <rect x="1030" y="490" width="150" height="90" fill="#FFB74D" stroke="#EF6C00" stroke-width="1" rx="5"/>
    <text x="1105" y="515" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#333333" text-anchor="middle">ê°œë³„ ì¢…ëª©</text>
    <text x="1105" y="535" font-family="Arial, sans-serif" font-size="11" fill="#666666" text-anchor="middle">ë‹¨ì¼ ë¶„ì„/ë§¤ìˆ˜/ë§¤ë„</text>
    <text x="1105" y="555" font-family="Arial, sans-serif" font-size="10" fill="#888888" text-anchor="middle">ì¦‰ì‹œ ì‹¤í–‰</text>

    <!-- í™”ì‚´í‘œ: Celery -> ì„œë¹„ìŠ¤ -->
    <line x1="500" y1="600" x2="500" y2="650" stroke="#666666" stroke-width="2" marker-end="url(#arrowhead)"/>
    <line x1="900" y1="600" x2="900" y2="650" stroke="#666666" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- ì„œë¹„ìŠ¤ ë ˆì´ì–´ -->
    <rect x="200" y="655" width="400" height="100" fill="#9C27B0" stroke="#6A1B9A" stroke-width="2" rx="8"/>
    <text x="400" y="690" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#ffffff" text-anchor="middle">KIS API + AI ë¶„ì„</text>
    <text x="300" y="720" font-family="Arial, sans-serif" font-size="12" fill="#E1BEE7" text-anchor="middle">KISClient</text>
    <text x="400" y="720" font-family="Arial, sans-serif" font-size="12" fill="#E1BEE7" text-anchor="middle">KISAnalyzer</text>
    <text x="500" y="720" font-family="Arial, sans-serif" font-size="12" fill="#E1BEE7" text-anchor="middle">YahooAnalyzer</text>
    <text x="400" y="745" font-family="Arial, sans-serif" font-size="11" fill="#CE93D8" text-anchor="middle">í•œêµ­íˆ¬ìì¦ê¶Œ API â€¢ Google Gemini</text>

    <rect x="800" y="655" width="400" height="100" fill="#607D8B" stroke="#37474F" stroke-width="2" rx="8"/>
    <text x="1000" y="690" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#ffffff" text-anchor="middle">PostgreSQL + Redis</text>
    <text x="900" y="720" font-family="Arial, sans-serif" font-size="12" fill="#CFD8DC" text-anchor="middle">StockAnalysisResult</text>
    <text x="1100" y="720" font-family="Arial, sans-serif" font-size="12" fill="#CFD8DC" text-anchor="middle">SymbolTradeSettings</text>
    <text x="1000" y="745" font-family="Arial, sans-serif" font-size="11" fill="#B0BEC5" text-anchor="middle">ë¶„ì„ ê²°ê³¼ â€¢ ì¢…ëª©ë³„ ì„¤ì • â€¢ íƒœìŠ¤í¬ í</text>

    <!-- Telegram ì•Œë¦¼ -->
    <rect x="1150" y="440" width="100" height="160" fill="#03A9F4" stroke="#0277BD" stroke-width="2" rx="8"/>
    <text x="1200" y="475" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">Telegram</text>
    <text x="1200" y="500" font-family="Arial, sans-serif" font-size="30" fill="#ffffff" text-anchor="middle">ğŸ“±</text>
    <text x="1200" y="530" font-family="Arial, sans-serif" font-size="10" fill="#E1F5FE" text-anchor="middle">ë¶„ì„ ì™„ë£Œ</text>
    <text x="1200" y="545" font-family="Arial, sans-serif" font-size="10" fill="#E1F5FE" text-anchor="middle">ì£¼ë¬¸ ì ‘ìˆ˜</text>
    <text x="1200" y="560" font-family="Arial, sans-serif" font-size="10" fill="#E1F5FE" text-anchor="middle">ì—ëŸ¬ ì•Œë¦¼</text>

    <!-- í™”ì‚´í‘œ: Celery -> Telegram -->
    <line x1="1100" y1="520" x2="1145" y2="520" stroke="#666666" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- í•˜ë‹¨ ì„¤ëª… -->
    <text x="700" y="830" font-family="Arial, sans-serif" font-size="14" fill="#666666" text-anchor="middle">
        ì›¹ ìš”ì²­ â†’ FastAPI â†’ Celery íƒœìŠ¤í¬ â†’ KIS API/AI ë¶„ì„ â†’ DB ì €ì¥ â†’ Telegram ì•Œë¦¼
    </text>
    <text x="700" y="855" font-family="Arial, sans-serif" font-size="12" fill="#999999" text-anchor="middle">
        ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ë„ ì¦‰ì‹œ ì‘ë‹µ, ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ í´ë§
    </text>
</svg>