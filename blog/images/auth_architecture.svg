<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="1000"><defs><marker id="arrowhead" markerHeight="7" markerWidth="10" orient="auto" refX="10" refY="3.5"><polygon fill="#333" points="0 0 10 3.5 0 7"/></marker></defs><rect width="1400" height="1000" fill="#fff"/><text x="700" y="50" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="40" font-weight="bold" text-anchor="middle">JWT 인증 시스템 아키텍처</text><ellipse cx="700" cy="130" fill="#E0E0E0" stroke="#333" stroke-width="2" rx="80" ry="40"/><text x="700" y="140" fill="#333" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle">사용자</text><rect width="1300" height="750" x="50" y="220" fill="#FFF3E0" stroke="#FF9800" stroke-width="3" rx="10"/><text x="700" y="260" fill="#FF9800" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle">FastAPI 애플리케이션</text><rect width="300" height="200" x="100" y="300" fill="#4CAF50" stroke="#333" stroke-width="2" rx="5"/><text x="250" y="340" fill="#fff" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle">인증 라우터</text><text x="250" y="370" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">/auth/register</text><text x="250" y="400" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">/auth/login</text><text x="250" y="430" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">/auth/refresh</text><text x="250" y="460" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">/auth/logout</text><rect width="300" height="120" x="450" y="300" fill="#2196F3" stroke="#333" stroke-width="2" rx="5"/><text x="600" y="340" fill="#fff" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle">JWT 인증 미들웨어</text><text x="600" y="370" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">토큰 검증</text><text x="600" y="395" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">사용자 인증</text><rect width="280" height="120" x="800" y="300" fill="#9C27B0" stroke="#333" stroke-width="2" rx="5"/><text x="940" y="335" fill="#fff" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle">RBAC</text><text x="940" y="360" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">역할 기반</text><text x="940" y="385" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">접근 제어</text><rect width="630" height="150" x="450" y="460" fill="#FF9800" stroke="#333" stroke-width="2" rx="5"/><text x="765" y="500" fill="#fff" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle">보호된 API 엔드포인트</text><text x="765" y="535" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">/api/stocks (Viewer+)</text><text x="765" y="565" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">/api/analyze (Analyst+)</text><text x="765" y="595" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">/admin/* (Admin)</text><rect width="250" height="100" x="100" y="650" fill="#336791" stroke="#333" stroke-width="2" rx="5"/><text x="225" y="690" fill="#fff" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle">PostgreSQL</text><text x="225" y="720" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">사용자 정보</text><rect width="250" height="100" x="400" y="650" fill="#DC382D" stroke="#333" stroke-width="2" rx="5"/><text x="525" y="690" fill="#fff" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle">Redis</text><text x="525" y="720" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">Refresh Token</text><rect width="250" height="100" x="700" y="650" fill="#F44336" stroke="#333" stroke-width="2" rx="5"/><text x="825" y="690" fill="#fff" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle">bcrypt</text><text x="825" y="720" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">비밀번호 해싱</text><rect width="280" height="100" x="1000" y="650" fill="#795548" stroke="#333" stroke-width="2" rx="5"/><text x="1140" y="690" fill="#fff" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle">Rate Limiting</text><text x="1140" y="720" fill="#fff" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">무차별 대입 방어</text><line x1="700" x2="250" y1="170" y2="300" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/><line x1="250" x2="225" y1="500" y2="650" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/><line x1="350" x2="500" y1="500" y2="650" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/><line x1="400" x2="750" y1="450" y2="650" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/><line x1="750" x2="800" y1="360" y2="360" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/><line x1="940" x2="765" y1="420" y2="460" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/><line x1="400" x2="1000" y1="330" y2="700" stroke="#333" stroke-dasharray="5 5" stroke-width="2" marker-end="url(#arrowhead)"/><text x="700" y="920" fill="#FF9800" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle">JWT + Redis + bcrypt + RBAC + Rate Limiting</text><text x="700" y="955" fill="#666" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">상태 비저장(Stateless) + 강제 로그아웃 + 역할 기반 접근 제어</text></svg>