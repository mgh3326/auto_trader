<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Upbit ë¸”ë¡œê·¸ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë”</title>
    <style>
        body {
            font-family: 'Apple SD Gothic Neo', Arial, sans-serif;
            max-width: 1000px;
            margin: 40px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }
        h1 { color: #333; margin-bottom: 10px; font-size: 32px; }
        .subtitle { color: #666; margin-bottom: 30px; font-size: 18px; }
        .image-card {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .image-card h3 {
            color: #667eea;
            margin-top: 0;
            font-size: 18px;
        }
        .settings {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 2px solid #ffc107;
        }
        .settings label { font-weight: bold; margin-right: 10px; }
        select {
            padding: 8px 12px;
            font-size: 14px;
            border: 2px solid #dee2e6;
            border-radius: 6px;
            cursor: pointer;
        }
        button {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }
        .download-all {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            padding: 20px;
            font-size: 20px;
            margin-bottom: 30px;
        }
        .download-all:hover {
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
        }
        .preview {
            border: 2px solid #dee2e6;
            padding: 15px;
            border-radius: 8px;
            background: white;
            margin-top: 15px;
            text-align: center;
            max-height: 300px;
            overflow: auto;
        }
        .preview img {
            max-width: 100%;
            border: 1px solid #dee2e6;
            border-radius: 6px;
        }
        canvas { display: none; }
        .info {
            background: #e7f1ff;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #0d6efd;
            font-size: 13px;
            line-height: 1.6;
        }
        .status {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #28a745;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ–¼ï¸ Upbit ë¸”ë¡œê·¸ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë”</h1>
        <p class="subtitle">5ê°œ ì´ë¯¸ì§€ë¥¼ ê³ í•´ìƒë„ PNGë¡œ ë³€í™˜</p>

        <div class="settings">
            <label>ğŸ¨ í•´ìƒë„:</label>
            <select id="globalScale">
                <option value="2">2ë°° (2400px)</option>
                <option value="3">3ë°° (3600px)</option>
                <option value="4" selected>4ë°° (4800px) - ê¶Œì¥</option>
                <option value="5">5ë°° (6000px)</option>
            </select>
        </div>

        <button class="download-all" onclick="downloadAll()">ğŸ“¥ ì „ì²´ ë‹¤ìš´ë¡œë“œ (5ê°œ)</button>

        <div class="status" id="status"></div>

        <div class="image-card">
            <h3>1ï¸âƒ£ Upbit ì‹œìŠ¤í…œ ê°œìš”</h3>
            <button onclick="download('upbit_system_overview')">ë‹¤ìš´ë¡œë“œ</button>
            <div class="preview">
                <img id="prev_upbit_system_overview" alt="ë¯¸ë¦¬ë³´ê¸°">
            </div>
            <div class="info">
                <strong>íŒŒì¼ëª…:</strong> upbit_system_overview.png<br>
                <strong>ì„¤ëª…:</strong> 24ì‹œê°„ ì•”í˜¸í™”í ìë™ ë¶„ì„ ì‹œìŠ¤í…œ
            </div>
        </div>

        <div class="image-card">
            <h3>2ï¸âƒ£ ë¹„íŠ¸ì½”ì¸ í”„ë¡¬í”„íŠ¸ êµ¬ì¡°</h3>
            <button onclick="download('bitcoin_prompt_structure')">ë‹¤ìš´ë¡œë“œ</button>
            <div class="preview">
                <img id="prev_bitcoin_prompt_structure" alt="ë¯¸ë¦¬ë³´ê¸°">
            </div>
            <div class="info">
                <strong>íŒŒì¼ëª…:</strong> bitcoin_prompt_structure.png<br>
                <strong>ì„¤ëª…:</strong> AI í”„ë¡¬í”„íŠ¸ì˜ 7ê°€ì§€ êµ¬ì„± ìš”ì†Œ
            </div>
        </div>

        <div class="image-card">
            <h3>3ï¸âƒ£ ë¹„íŠ¸ì½”ì¸ ì°¨íŠ¸ ë¶„ì„</h3>
            <button onclick="download('bitcoin_chart_analysis')">ë‹¤ìš´ë¡œë“œ</button>
            <div class="preview">
                <img id="prev_bitcoin_chart_analysis" alt="ë¯¸ë¦¬ë³´ê¸°">
            </div>
            <div class="info">
                <strong>íŒŒì¼ëª…:</strong> bitcoin_chart_analysis.png<br>
                <strong>ì„¤ëª…:</strong> ì°¨íŠ¸ + Gemini AI ë¶„ì„ ê²°ê³¼
            </div>
        </div>

        <div class="image-card">
            <h3>4ï¸âƒ£ ê±°ë˜ì†Œ API ë¹„êµ</h3>
            <button onclick="download('exchange_api_comparison')">ë‹¤ìš´ë¡œë“œ</button>
            <div class="preview">
                <img id="prev_exchange_api_comparison" alt="ë¯¸ë¦¬ë³´ê¸°">
            </div>
            <div class="info">
                <strong>íŒŒì¼ëª…:</strong> exchange_api_comparison.png<br>
                <strong>ì„¤ëª…:</strong> Upbit, Bithumb, Coinone, Binance ë¹„êµ
            </div>
        </div>

        <div class="image-card">
            <h3>5ï¸âƒ£ í†µí•© ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</h3>
            <button onclick="download('unified_trading_system')">ë‹¤ìš´ë¡œë“œ</button>
            <div class="preview">
                <img id="prev_unified_trading_system" alt="ë¯¸ë¦¬ë³´ê¸°">
            </div>
            <div class="info">
                <strong>íŒŒì¼ëª…:</strong> unified_trading_system.png<br>
                <strong>ì„¤ëª…:</strong> KIS + yfinance + Upbit í†µí•© êµ¬ì¡°
            </div>
        </div>

        <canvas id="canvas"></canvas>
    </div>

    <script>
        // SVG ë°ì´í„°ë¥¼ fetchë¡œ ë¡œë“œ
        const svgFiles = {
            'upbit_system_overview': 'upbit_system_overview.svg',
            'bitcoin_prompt_structure': 'bitcoin_prompt_structure.svg',
            'bitcoin_chart_analysis': 'bitcoin_chart_analysis.svg',
            'exchange_api_comparison': 'exchange_api_comparison.svg',
            'unified_trading_system': 'unified_trading_system.svg'
        };

        const svgData = {};

        // SVG íŒŒì¼ë“¤ì„ ë¡œë“œ
        async function loadSVGs() {
            for (const [key, filename] of Object.entries(svgFiles)) {
                const response = await fetch(filename);
                const text = await response.text();
                svgData[key] = text;

                // ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
                const blob = new Blob([text], {type: 'image/svg+xml'});
                document.getElementById('prev_' + key).src = URL.createObjectURL(blob);
            }
        }

        function download(name) {
            const scale = +document.getElementById('globalScale').value;
            const svg = svgData[name];
            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');
            const img = new Image();
            const blob = new Blob([svg], {type: 'image/svg+xml'});
            const url = URL.createObjectURL(blob);

            img.onload = () => {
                canvas.width = img.width * scale;
                canvas.height = img.height * scale;
                ctx.imageSmoothingEnabled = true;
                ctx.imageSmoothingQuality = 'high';
                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

                canvas.toBlob(b => {
                    const a = document.createElement('a');
                    a.download = name + '.png';
                    a.href = URL.createObjectURL(b);
                    a.click();
                    URL.revokeObjectURL(url);
                    showStatus(`âœ… ${name}.png ë‹¤ìš´ë¡œë“œ ì™„ë£Œ! (${canvas.width}x${canvas.height}px)`);
                }, 'image/png');
            };
            img.src = url;
        }

        async function downloadAll() {
            const scale = +document.getElementById('globalScale').value;
            showStatus('â³ ì „ì²´ ë‹¤ìš´ë¡œë“œ ì‹œì‘... (ì•½ 5-10ì´ˆ ì†Œìš”)');

            for (const name of Object.keys(svgData)) {
                await new Promise(resolve => {
                    const svg = svgData[name];
                    const canvas = document.getElementById('canvas');
                    const ctx = canvas.getContext('2d');
                    const img = new Image();
                    const blob = new Blob([svg], {type: 'image/svg+xml'});
                    const url = URL.createObjectURL(blob);

                    img.onload = () => {
                        canvas.width = img.width * scale;
                        canvas.height = img.height * scale;
                        ctx.imageSmoothingEnabled = true;
                        ctx.imageSmoothingQuality = 'high';
                        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

                        canvas.toBlob(b => {
                            const a = document.createElement('a');
                            a.download = name + '.png';
                            a.href = URL.createObjectURL(b);
                            a.click();
                            URL.revokeObjectURL(url);
                            resolve();
                        }, 'image/png');
                    };
                    img.src = url;
                });

                // ë‹¤ìš´ë¡œë“œ ê°„ê²© (ë¸Œë¼ìš°ì €ê°€ ì²˜ë¦¬í•  ì‹œê°„ ì œê³µ)
                await new Promise(r => setTimeout(r, 500));
            }

            showStatus('âœ… ì „ì²´ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ! (5ê°œ íŒŒì¼)');
        }

        function showStatus(message) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.style.display = 'block';
            setTimeout(() => {
                status.style.display = 'none';
            }, 5000);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ SVG íŒŒì¼ ë¡œë“œ
        window.onload = loadSVGs;
    </script>
</body>
</html>
