# Production Environment Configuration
# Copy this file to .env.prod and fill in your production values

# Database Configuration (네이티브 PostgreSQL)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_DB=auto_trader_prod
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
DATABASE_URL=postgresql+asyncpg://postgres:your_secure_postgres_password_here@localhost:5432/auto_trader_prod

# Redis Configuration (네이티브 Redis)
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_URL=redis://:your_secure_redis_password_here@localhost:6379/0

# API Configuration
API_PORT=8000
DOCS_ENABLED=false

# Sentry
SENTRY_DSN=https://<key>@o0.ingest.sentry.io/0
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILES_SAMPLE_RATE=1.0
SENTRY_SEND_DEFAULT_PII=true
SENTRY_ENABLE_LOG_EVENTS=true

# GitHub Repository (for Docker images)
GITHUB_REPOSITORY=your-username/auto_trader

# Caddy HTTPS reverse proxy
ACME_EMAIL=your_email@example.com
DOMAIN_NAME=your_domain.com

# KIS (Korea Investment & Securities) API
KIS_APP_KEY=your_kis_app_key
KIS_APP_SECRET=your_kis_app_secret

# KIS WebSocket
KIS_WS_IS_MOCK=false
KIS_WS_HTS_ID=your_hts_id
KIS_WS_RECONNECT_DELAY_SECONDS=5
KIS_WS_MAX_RECONNECT_ATTEMPTS=10
KIS_WS_PING_INTERVAL=30
KIS_WS_PING_TIMEOUT=10

# Upbit API
UPBIT_ACCESS_KEY=your_upbit_access_key
UPBIT_SECRET_KEY=your_upbit_secret_key
UPBIT_BUY_AMOUNT=19000
UPBIT_MIN_KRW_BALANCE=24000

# Telegram Bot
TELEGRAM_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_IDS=[your_chat_id_1,your_chat_id_2]

# Google API (for Gemini AI)
GOOGLE_API_KEY=your_google_api_key
GOOGLE_API_KEYS=["your_google_api_key_1","your_google_api_key_2"]

# OpenClaw (Gateway Webhook)
# 분석 요청 + 체결 알림 모두 아래 OpenClaw Gateway 설정을 공용으로 사용
OPENCLAW_ENABLED=false
OPENCLAW_WEBHOOK_URL=http://localhost:18789/hooks/agent
OPENCLAW_TOKEN=
OPENCLAW_CALLBACK_TOKEN=
OPENCLAW_CALLBACK_URL=http://localhost:8000/api/v1/openclaw/callback

# OpenDART API
OPENDART_API_KEY=your_opendart_api_key

# Finnhub API (optional - for US stock news and fundamentals)
FINNHUB_API_KEY=your_finnhub_api_key_here

# MCP Server
# MCP transport (streamable-http | sse | stdio)
MCP_TYPE=streamable-http
MCP_HOST=0.0.0.0
MCP_PORT=8765
MCP_PATH=/mcp
MCP_USER_ID=1
# MCP Bearer Token authentication (empty to disable auth)
# Set for Raspberry Pi deployment without Tailscale for HTTPS security
# Generate with: openssl rand -hex 32
MCP_AUTH_TOKEN=your_mcp_auth_token_here

# JWT Authentication
SECRET_KEY=please_generate_secure_random_secret
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
# Comma-separated list of public API paths that do not require auth
PUBLIC_API_PATHS=
# Keep inactive users blocked when Redis is unavailable
SESSION_BLACKLIST_FAIL_SAFE=true
# Fallback to the database to verify user status when Redis is down
SESSION_BLACKLIST_DB_FALLBACK=true

# Strategy Configuration
TOP_N=30
DROP_PCT=-3.0
CRON=0 * * * *

# Environment
ENVIRONMENT=production
